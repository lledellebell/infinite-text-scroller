{"version":3,"file":"index.debug.js","sources":["../src/constants.js","../src/helpers.js","../src/styles.js","../src/instance.js","../src/index.js"],"sourcesContent":["/**\n * 상수 및 기본 설정\n * @module constants\n */\n\n// 타이밍 상수\nexport const TIMING = {\n  HOVER_RESUME_DELAY: 2000,\n  FOCUS_RESUME_DELAY: 2000,\n  VISIBILITY_RESUME_DELAY: 500\n};\n\n// 기본 설정\nexport const DEFAULT_CONFIG = {\n  text: '',\n  html: '',\n  children: '',\n  direction: 'horizontal',\n  animationType: 'scroll', // 'scroll' | 'fade'\n  speed: 20,\n  interval: 5000, // fade 타입용 (ms)\n  fontSize: '1.2rem',\n  fontWeight: '400',\n  fontFamily: 'inherit',\n  textColor: '#000000',\n  backgroundColor: '#ffffff',\n  separator: '—',\n  separatorColor: 'inherit',\n  separatorOpacity: 0.5,\n  duplicates: 3,\n  pauseOnHover: true,\n  pauseOnFocus: true,\n  autoInjectStyles: true,\n  className: '',\n  fadeEdges: true,\n  fadeWidth: 'clamp(60px, 10vw, 100px)',\n  borderTop: true,\n  borderBottom: true,\n  borderColor: '#000000',\n  borderWidth: '1px',\n  padding: 'clamp(1rem, 2vw, 2rem)',\n  gap: 'calc(var(--its-spacing-base) * 2)',\n  letterSpacing: '-0.01em',\n  animationTimingFunction: 'linear',\n  animationDelay: '0s',\n  rtl: false,\n  // ARIA/접근성\n  ariaLabel: '',\n  ariaLive: 'off', // 'off' | 'polite' | 'assertive'\n  role: 'marquee', // 'marquee' | 'region'\n  // 키보드 제어\n  enableKeyboardControl: true,\n  // prefers-reduced-motion 대응\n  reducedMotionFallback: 'slow' // 'slow' | 'static' | 'none'\n};\n\n// 프리셋 설정\nexport const PRESETS = {\n  minimal: {\n    borderTop: false,\n    borderBottom: false,\n    fadeEdges: false,\n    padding: '1rem',\n    backgroundColor: 'transparent'\n  },\n  news: {\n    speed: 15,\n    separator: '•',\n    borderTop: true,\n    borderBottom: true,\n    fadeEdges: true,\n    ariaLabel: '뉴스 티커'\n  },\n  ticker: {\n    speed: 10,\n    separator: '|',\n    separatorOpacity: 0.3,\n    fontSize: '1rem',\n    fadeEdges: true,\n    ariaLabel: '실시간 정보 티커'\n  },\n  banner: {\n    speed: 25,\n    separator: '—',\n    borderTop: false,\n    borderBottom: false,\n    fadeEdges: true,\n    fadeWidth: '100px',\n    padding: '2rem'\n  },\n  alert: {\n    speed: 12,\n    separator: '⚠',\n    separatorColor: '#ff0000',\n    textColor: '#ff0000',\n    backgroundColor: '#fff3cd',\n    borderTop: true,\n    borderBottom: true,\n    borderColor: '#ff0000',\n    ariaLive: 'polite'\n  },\n  // 새로운 프리셋: 공지사항 (fade-in/out)\n  announcement: {\n    animationType: 'fade',\n    interval: 5000,\n    separator: '',\n    borderTop: true,\n    borderBottom: true,\n    fadeEdges: false,\n    backgroundColor: '#fef3c7',\n    textColor: '#92400e',\n    borderColor: '#fbbf24',\n    ariaLabel: '공지사항',\n    pauseOnHover: true,\n    pauseOnFocus: true\n  },\n  // 환율/주식 티커\n  currency: {\n    speed: 20,\n    separator: '|',\n    separatorOpacity: 0.3,\n    fontSize: '1rem',\n    fadeEdges: true,\n    borderTop: true,\n    borderBottom: false,\n    backgroundColor: '#1e3a8a',\n    textColor: '#ffffff',\n    borderColor: 'rgba(255, 255, 255, 0.1)',\n    ariaLabel: '실시간 환율 정보',\n    pauseOnHover: true\n  },\n  stock: {\n    speed: 15,\n    separator: '•',\n    separatorOpacity: 0.5,\n    fontSize: '0.95rem',\n    fadeEdges: true,\n    borderTop: true,\n    borderBottom: true,\n    backgroundColor: '#0f172a',\n    textColor: '#e2e8f0',\n    borderColor: '#334155',\n    ariaLabel: '실시간 주식 정보',\n    pauseOnHover: true\n  }\n};\n\n// 검증 범위\nexport const VALIDATION_RANGES = {\n  speed: { min: 0.1, max: 1000, default: 20 },\n  duplicates: { min: 1, max: 20, default: 3 },\n  separatorOpacity: { min: 0, max: 1, default: 0.5 }\n};\n\n// 허용된 HTML 태그 및 속성\nexport const ALLOWED_HTML = {\n  tags: new Set(['b', 'strong', 'i', 'em', 'u', 'span', 'br', 'mark']),\n  attributes: new Set(['style', 'class'])\n};\n","\n/**\n * 헬퍼 함수들\n * @module helpers\n */\n\nimport { ALLOWED_HTML, VALIDATION_RANGES } from './constants.js';\n\n/**\n * HTML 새니타이징 (XSS 방지)\n * @param {string} html - 새니타이징할 HTML 문자열\n * @returns {string} 새니타이징된 HTML\n */\nexport function sanitizeHTML(html) {\n  const temp = document.createElement('div');\n  temp.innerHTML = html;\n\n  const walker = document.createTreeWalker(\n    temp,\n    NodeFilter.SHOW_ELEMENT,\n    null,\n    false\n  );\n\n  const nodesToRemove = [];\n  let node;\n\n  while ((node = walker.nextNode())) {\n    const tagName = node.tagName.toLowerCase();\n\n    if (!ALLOWED_HTML.tags.has(tagName)) {\n      nodesToRemove.push(node);\n      continue;\n    }\n\n    const attrs = Array.from(node.attributes);\n    for (const attr of attrs) {\n      if (!ALLOWED_HTML.attributes.has(attr.name.toLowerCase())) {\n        node.removeAttribute(attr.name);\n      }\n    }\n  }\n\n  for (const node of nodesToRemove) {\n    const text = document.createTextNode(node.textContent);\n    node.parentNode.replaceChild(text, node);\n  }\n\n  return temp.innerHTML;\n}\n\n/**\n * 숫자 파라미터 검증\n * @param {number} value - 검증할 값\n * @param {string} paramName - 파라미터 이름\n * @returns {number} 검증된 값\n */\nexport function validateNumber(value, paramName) {\n  const range = VALIDATION_RANGES[paramName];\n  if (!range) {\n    console.warn(`[TextScroller] ${paramName}에 대한 검증 범위가 정의되지 않았습니다`);\n    return value;\n  }\n\n  const { min, max, default: defaultValue } = range;\n\n  if (typeof value !== 'number' || isNaN(value)) {\n    console.warn(`[TextScroller] ${paramName}는 숫자여야 합니다. 기본값(${defaultValue}) 사용`);\n    return defaultValue;\n  }\n  if (min !== null && value < min) {\n    console.warn(`[TextScroller] ${paramName}는 ${min} 이상이어야 합니다. 최소값 사용`);\n    return min;\n  }\n  if (max !== null && value > max) {\n    console.warn(`[TextScroller] ${paramName}는 ${max} 이하여야 합니다. 최대값 사용`);\n    return max;\n  }\n  return value;\n}\n\n/**\n * DOM 요소 생성\n * @param {string} tag - 태그 이름\n * @param {string} className - 클래스 이름\n * @param {string} textContent - 텍스트 내용\n * @returns {HTMLElement} 생성된 요소\n */\nexport function createElement(tag, className, textContent = '') {\n  const el = document.createElement(tag);\n  if (className) el.className = className;\n  if (textContent) el.textContent = textContent;\n  return el;\n}\n\n/**\n * 개별 스크롤러 아이템 생성\n * @param {string} text - 텍스트\n * @param {string} separator - 구분자\n * @param {string} direction - 방향\n * @param {Object} config - 설정\n * @returns {HTMLElement} 생성된 아이템\n */\nexport function createScrollerItem(text, separator, direction, config) {\n  const item = createElement('div', 'its-scroller-item');\n  const textSpan = createElement('span', 'its-scroller-text');\n\n  // children이 우선, 그 다음 html, 마지막으로 text\n  if (config.children) {\n    textSpan.innerHTML = sanitizeHTML(config.children);\n  } else if (config.html) {\n    textSpan.innerHTML = sanitizeHTML(config.html);\n  } else {\n    textSpan.textContent = text;\n  }\n\n  item.appendChild(textSpan);\n\n  if (direction === 'horizontal' && separator) {\n    const separatorSpan = createElement('span', 'its-scroller-separator', separator);\n    item.appendChild(separatorSpan);\n  }\n\n  return item;\n}\n\n/**\n * 복제된 스크롤러 트랙 생성\n * @param {string} text - 텍스트\n * @param {string} separator - 구분자\n * @param {string} direction - 방향\n * @param {number} duplicates - 복제 수\n * @param {Object} config - 설정\n * @returns {HTMLElement} 생성된 트랙\n */\nexport function createTrack(text, separator, direction, duplicates, config) {\n  const track = createElement('div', 'its-scroller-track');\n  const totalItems = duplicates * 2;\n\n  const fragment = document.createDocumentFragment();\n  for (let i = 0; i < totalItems; i++) {\n    fragment.appendChild(\n      createScrollerItem(text, separator, direction, config)\n    );\n  }\n\n  track.appendChild(fragment);\n  return track;\n}\n","/**\n * 스타일 관리\n * @module styles\n */\n\n// 인스턴스별 스타일 캐시 (Map으로 관리)\nconst styleCache = new Map();\n\n/**\n * 문서 헤드에 기본 스타일 주입\n */\nexport function injectStyles() {\n  if (document.getElementById('infinite-text-scroller-styles')) return;\n\n  const style = document.createElement('style');\n  style.id = 'infinite-text-scroller-styles';\n  style.textContent = `\n    .its-scroller-container {\n      position: relative;\n    }\n\n    .its-scroller-container.its-border-top {\n      border-block-start: var(--its-border-width, 1px) solid var(--its-border-color, #000000);\n    }\n\n    .its-scroller-container.its-border-bottom {\n      border-block-end: var(--its-border-width, 1px) solid var(--its-border-color, #000000);\n    }\n\n    .its-scroller-container:not(:last-child).its-border-bottom {\n      border-block-end: none;\n    }\n\n    /* 키보드 포커스 표시 */\n    .its-scroller-container:focus {\n      outline: 2px solid #0066cc;\n      outline-offset: 2px;\n    }\n\n    .its-scroller-container:focus:not(:focus-visible) {\n      outline: none;\n    }\n\n    .its-scroller-wrapper {\n      overflow: hidden;\n      display: flex;\n      position: relative;\n      padding-block: var(--its-padding, clamp(1rem, 2vw, 2rem));\n      isolation: isolate;\n      background-color: var(--its-bg-color, #ffffff);\n    }\n\n    /* Fade 타입 스타일 */\n    .its-scroller-wrapper.its-fade-type {\n      justify-content: center;\n      align-items: center;\n      min-height: 48px;\n    }\n\n    .its-scroller-wrapper.its-fade-type .its-scroller-track {\n      animation: none;\n    }\n\n    .its-scroller-wrapper::before,\n    .its-scroller-wrapper::after {\n      content: '';\n      position: absolute;\n      inset-block: 0;\n      inline-size: var(--its-fade-width, clamp(60px, 10vw, 100px));\n      z-index: 1;\n      pointer-events: none;\n      opacity: 0;\n      transition: opacity 0.3s ease;\n    }\n\n    .its-scroller-wrapper.its-fade-enabled::before,\n    .its-scroller-wrapper.its-fade-enabled::after {\n      opacity: 1;\n    }\n\n    .its-scroller-wrapper.its-horizontal::before {\n      inset-inline-start: 0;\n      background: linear-gradient(to right, var(--its-bg-color, #ffffff), transparent);\n    }\n\n    .its-scroller-wrapper.its-horizontal::after {\n      inset-inline-end: 0;\n      background: linear-gradient(to left, var(--its-bg-color, #ffffff), transparent);\n    }\n\n    .its-scroller-wrapper.its-rtl.its-horizontal .its-scroller-track {\n      flex-direction: row-reverse;\n    }\n\n    .its-scroller-wrapper.its-vertical {\n      block-size: var(--its-vertical-height, clamp(250px, 30vh, 300px));\n      align-items: center;\n      justify-content: center;\n    }\n\n    .its-scroller-wrapper.its-vertical::before {\n      inline-size: 100%;\n      block-size: 60px;\n      background: linear-gradient(to bottom, var(--its-bg-color, #ffffff), transparent);\n    }\n\n    .its-scroller-wrapper.its-vertical::after {\n      inline-size: 100%;\n      block-size: 60px;\n      background: linear-gradient(to top, var(--its-bg-color, #ffffff), transparent);\n      inset-block-start: auto;\n      inset-block-end: 0;\n    }\n\n    .its-scroller-track {\n      display: flex;\n      animation-duration: var(--its-animation-speed, 20s);\n      animation-timing-function: var(--its-animation-timing, linear);\n      animation-iteration-count: infinite;\n      animation-delay: var(--its-animation-delay, 0s);\n      will-change: transform;\n      backface-visibility: hidden;\n      transform: translateZ(0);\n    }\n\n    .its-scroller-wrapper.its-horizontal .its-scroller-track {\n      animation-name: its-scroll-horizontal;\n    }\n\n    .its-scroller-wrapper.its-vertical .its-scroller-track {\n      flex-direction: column;\n      animation-name: its-scroll-vertical;\n    }\n\n    .its-scroller-wrapper:hover .its-scroller-track.its-pause-on-hover {\n      animation-play-state: paused;\n    }\n\n    /* 애니메이션 상태 제어 클래스 */\n    .its-scroller-track.its-paused {\n      animation-play-state: paused !important;\n    }\n\n    .its-scroller-track.its-reset {\n      animation: none !important;\n    }\n\n    .its-scroller-item {\n      display: inline-flex;\n      align-items: center;\n      white-space: nowrap;\n      flex-shrink: 0;\n    }\n\n    .its-scroller-wrapper.its-vertical .its-scroller-item {\n      flex-direction: column;\n      padding-block: calc(var(--its-padding, 1rem) / 2);\n    }\n\n    /* Fade 타입 아이템 */\n    .its-scroller-wrapper.its-fade-type .its-scroller-item {\n      position: absolute;\n      top: 50%;\n      left: 50%;\n      transform: translate(-50%, -50%);\n      opacity: 0;\n      transition: opacity 0.5s ease-in-out, transform 0.5s ease-in-out;\n      pointer-events: none;\n      width: 100%;\n      max-width: 800px;\n      justify-content: center;\n      text-align: center;\n    }\n\n    .its-scroller-wrapper.its-fade-type .its-scroller-item.its-active {\n      opacity: 1;\n      transform: translate(-50%, -50%);\n      pointer-events: auto;\n    }\n\n    .its-scroller-wrapper.its-fade-type .its-scroller-item.its-prev {\n      opacity: 0;\n      transform: translate(-50%, -65%);\n    }\n\n    .its-scroller-wrapper.its-fade-type .its-scroller-item.its-next {\n      opacity: 0;\n      transform: translate(-50%, -35%);\n    }\n\n    .its-scroller-text {\n      padding-inline: var(--its-gap, calc(var(--its-padding, 1rem) * 2));\n      font-size: var(--its-font-size, 1.2rem);\n      font-weight: var(--its-font-weight, 400);\n      font-family: var(--its-font-family, inherit);\n      color: var(--its-text-color, #000000);\n      letter-spacing: var(--its-letter-spacing, -0.01em);\n      user-select: none;\n    }\n\n    .its-scroller-separator {\n      color: var(--its-separator-color, var(--its-text-color, #000000));\n      font-size: var(--its-font-size, 1.2rem);\n      padding-inline: 0.5rem;\n      user-select: none;\n      opacity: var(--its-separator-opacity, 0.5);\n    }\n\n    @keyframes its-scroll-horizontal {\n      from { transform: translateX(0); }\n      to { transform: translateX(-50%); }\n    }\n\n    @keyframes its-scroll-vertical {\n      from { transform: translateY(0); }\n      to { transform: translateY(-50%); }\n    }\n\n    /* prefers-reduced-motion 지원 (WCAG 2.3.3) */\n    @media (prefers-reduced-motion: reduce) {\n      .its-scroller-track {\n        animation-duration: 60s !important;\n      }\n\n      .its-scroller-wrapper.its-fade-type .its-scroller-item {\n        position: relative !important;\n        opacity: 1 !important;\n        transform: none !important;\n        display: block;\n        margin-bottom: 0.5rem;\n        pointer-events: auto;\n      }\n\n      .its-scroller-wrapper.its-fade-type {\n        display: block;\n        overflow-y: auto;\n        max-height: 200px;\n      }\n    }\n\n    @media (forced-colors: active) {\n      .its-scroller-wrapper::before,\n      .its-scroller-wrapper::after {\n        display: none;\n      }\n    }\n  `;\n  document.head.appendChild(style);\n}\n\n/**\n * 인스턴스별 스타일 태그 생성 (캐싱 포함)\n * @param {string} containerId - 컨테이너 ID\n * @param {Object} styles - 스타일 객체\n * @returns {HTMLStyleElement} 생성된 스타일 태그\n */\nexport function createInstanceStyles(containerId, styles) {\n  const styleId = `its-instance-${containerId}`;\n  let styleTag = document.getElementById(styleId);\n\n  if (!styleTag) {\n    styleTag = document.createElement('style');\n    styleTag.id = styleId;\n    document.head.appendChild(styleTag);\n  }\n\n  // 캐시에 저장\n  const cachedStyles = new Map();\n  for (const [key, value] of Object.entries(styles)) {\n    if (value !== null && value !== undefined) {\n      cachedStyles.set(key, value);\n    }\n  }\n  styleCache.set(containerId, cachedStyles);\n\n  // 스타일 태그 업데이트\n  updateStyleTag(containerId, styleTag, cachedStyles);\n\n  return styleTag;\n}\n\n/**\n * 인스턴스 스타일 태그 업데이트 (캐싱 사용)\n * @param {string} containerId - 컨테이너 ID\n * @param {Object} styles - 업데이트할 스타일\n */\nexport function updateInstanceStyles(containerId, styles) {\n  const styleId = `its-instance-${containerId}`;\n  const styleTag = document.getElementById(styleId);\n\n  if (!styleTag) return;\n\n  // 캐시에서 기존 스타일 가져오기\n  let cachedStyles = styleCache.get(containerId);\n  if (!cachedStyles) {\n    cachedStyles = new Map();\n    styleCache.set(containerId, cachedStyles);\n  }\n\n  // 새 스타일로 업데이트\n  for (const [key, value] of Object.entries(styles)) {\n    if (value !== null && value !== undefined) {\n      cachedStyles.set(key, value);\n    }\n  }\n\n  // 스타일 태그 업데이트\n  updateStyleTag(containerId, styleTag, cachedStyles);\n}\n\n/**\n * 스타일 태그 내용 업데이트 (내부 헬퍼)\n * @param {string} containerId - 컨테이너 ID\n * @param {HTMLStyleElement} styleTag - 스타일 태그\n * @param {Map} styles - 스타일 Map\n */\nfunction updateStyleTag(containerId, styleTag, styles) {\n  const cssVars = Array.from(styles.entries())\n    .map(([key, value]) => `${key}: ${value};`)\n    .join('\\n    ');\n\n  styleTag.textContent = `\n    #${containerId} .its-scroller-wrapper {\n      ${cssVars}\n    }\n  `;\n}\n\n/**\n * 인스턴스 스타일 제거\n * @param {string} containerId - 컨테이너 ID\n */\nexport function removeInstanceStyles(containerId) {\n  const styleId = `its-instance-${containerId}`;\n  const styleTag = document.getElementById(styleId);\n  if (styleTag) {\n    styleTag.remove();\n  }\n  styleCache.delete(containerId);\n}\n\n/**\n * 스타일 캐시 가져오기 (디버깅용)\n * @param {string} containerId - 컨테이너 ID\n * @returns {Map|undefined} 캐시된 스타일\n */\nexport function getStyleCache(containerId) {\n  return styleCache.get(containerId);\n}\n","/**\n * 인스턴스 메서드 생성\n * @module instance\n */\n\nimport { TIMING } from './constants.js';\nimport { sanitizeHTML, validateNumber } from './helpers.js';\nimport { updateInstanceStyles, removeInstanceStyles } from './styles.js';\n\n/**\n * 인스턴스 메서드 생성\n * @param {Object} params - 파라미터\n * @returns {Object} 인스턴스 메서드\n */\nexport function createInstanceMethods({\n  config,\n  wrapper,\n  track,\n  container,\n  mediaQuery,\n  isReducedMotion,\n  instancesMap\n}) {\n  // Fade 애니메이션용 변수\n  let fadeTimer = null;\n  let fadeCurrentIndex = 0;\n  let fadeIsPaused = false;\n  let isPlaying = true;\n\n  const instance = {\n    id: config.containerId,\n    element: wrapper,\n    track,\n    container,\n    config: { ...config },\n    isPlaying,\n    isReducedMotion,\n    fadeTimer,\n    fadeCurrentIndex,\n    fadeIsPaused,\n\n    updateText: (newText) => {\n      if (typeof newText !== 'string') {\n        console.error('[TextScroller] updateText: 문자열 타입이 필요합니다');\n        return instance;\n      }\n      const items = track.querySelectorAll('.its-scroller-text');\n      for (const item of items) {\n        if (instance.config.html) {\n          // html 모드에서는 무시\n          continue;\n        }\n        item.textContent = newText;\n      }\n      instance.config.text = newText;\n      return instance;\n    },\n\n    updateHtml: (newHtml) => {\n      if (typeof newHtml !== 'string') {\n        console.error('[TextScroller] updateHtml: 문자열 타입이 필요합니다');\n        return instance;\n      }\n      const sanitized = sanitizeHTML(newHtml);\n      const items = track.querySelectorAll('.its-scroller-text');\n      for (const item of items) {\n        item.innerHTML = sanitized;\n      }\n      instance.config.html = newHtml;\n      return instance;\n    },\n\n    updateSpeed: (newSpeed) => {\n      const validSpeed = validateNumber(newSpeed, 'speed');\n      updateInstanceStyles(config.containerId, {\n        '--its-animation-speed': `${validSpeed}s`\n      });\n      instance.config.speed = validSpeed;\n      return instance;\n    },\n\n    updateDirection: (newDirection) => {\n      if (!['horizontal', 'vertical'].includes(newDirection)) {\n        console.error('[TextScroller] updateDirection: \"horizontal\" 또는 \"vertical\"만 사용 가능합니다');\n        return instance;\n      }\n      wrapper.classList.remove('its-horizontal', 'its-vertical');\n      wrapper.classList.add(`its-${newDirection}`);\n      instance.config.direction = newDirection;\n      return instance;\n    },\n\n    updateColors: ({ textColor, backgroundColor, borderColor } = {}) => {\n      const updates = {};\n      if (textColor) {\n        updates['--its-text-color'] = textColor;\n        instance.config.textColor = textColor;\n      }\n      if (backgroundColor) {\n        updates['--its-bg-color'] = backgroundColor;\n        instance.config.backgroundColor = backgroundColor;\n      }\n      if (borderColor) {\n        updates['--its-border-color'] = borderColor;\n        instance.config.borderColor = borderColor;\n      }\n      if (Object.keys(updates).length > 0) {\n        updateInstanceStyles(config.containerId, updates);\n      }\n      return instance;\n    },\n\n    updateChildren: (newChildren) => {\n      if (typeof newChildren !== 'string') {\n        console.error('[TextScroller] updateChildren: 문자열 타입이 필요합니다');\n        return instance;\n      }\n      const sanitized = sanitizeHTML(newChildren);\n      const items = track.querySelectorAll('.its-scroller-text');\n      for (const item of items) {\n        item.innerHTML = sanitized;\n      }\n      instance.config.children = newChildren;\n      return instance;\n    },\n\n    updateConfig: (newConfig) => {\n      Object.assign(instance.config, newConfig);\n\n      const styleMap = new Map([\n        ['speed', '--its-animation-speed'],\n        ['fontSize', '--its-font-size'],\n        ['fontWeight', '--its-font-weight'],\n        ['fontFamily', '--its-font-family'],\n        ['textColor', '--its-text-color'],\n        ['backgroundColor', '--its-bg-color'],\n        ['fadeWidth', '--its-fade-width'],\n        ['borderColor', '--its-border-color'],\n        ['borderWidth', '--its-border-width'],\n        ['padding', '--its-padding'],\n        ['gap', '--its-gap'],\n        ['letterSpacing', '--its-letter-spacing'],\n        ['separatorOpacity', '--its-separator-opacity'],\n        ['separatorColor', '--its-separator-color']\n      ]);\n\n      const updates = {};\n      for (const [key, value] of Object.entries(newConfig)) {\n        if (styleMap.has(key)) {\n          const cssValue = key === 'speed' ? `${value}s` : value;\n          updates[styleMap.get(key)] = cssValue;\n        }\n      }\n\n      if (Object.keys(updates).length > 0) {\n        updateInstanceStyles(config.containerId, updates);\n      }\n\n      if (newConfig.children !== undefined) {\n        instance.updateChildren(newConfig.children);\n      } else if (newConfig.html !== undefined) {\n        instance.updateHtml(newConfig.html);\n      } else if (newConfig.text !== undefined) {\n        instance.updateText(newConfig.text);\n      }\n      if (newConfig.direction) {\n        instance.updateDirection(newConfig.direction);\n      }\n      if (newConfig.speed !== undefined) {\n        instance.updateSpeed(newConfig.speed);\n      }\n      if (newConfig.fadeEdges !== undefined) {\n        wrapper.classList.toggle('its-fade-enabled', newConfig.fadeEdges);\n      }\n      if (newConfig.rtl !== undefined) {\n        wrapper.classList.toggle('its-rtl', newConfig.rtl);\n      }\n\n      return instance;\n    },\n\n    // Fade 애니메이션 전용 메서드\n    fadeShowItem: (index) => {\n      if (config.animationType !== 'fade') return instance;\n\n      const items = track.querySelectorAll('.its-scroller-item');\n      if (items.length === 0) return instance;\n\n      for (const item of items) {\n        item.classList.remove('its-active', 'its-prev', 'its-next');\n      }\n\n      items[index].classList.add('its-active');\n      instance.fadeCurrentIndex = index;\n      return instance;\n    },\n\n    fadeNext: () => {\n      if (config.animationType !== 'fade' || instance.fadeIsPaused || instance.isReducedMotion) {\n        return instance;\n      }\n\n      const items = track.querySelectorAll('.its-scroller-item');\n      if (items.length === 0) return instance;\n\n      const prevIndex = instance.fadeCurrentIndex;\n      const nextIndex = (instance.fadeCurrentIndex + 1) % items.length;\n\n      items[prevIndex].classList.add('its-prev');\n      items[prevIndex].classList.remove('its-active');\n      items[nextIndex].classList.add('its-active');\n      items[nextIndex].classList.remove('its-next');\n\n      instance.fadeCurrentIndex = nextIndex;\n      return instance;\n    },\n\n    fadeStart: () => {\n      if (config.animationType !== 'fade' || instance.isReducedMotion) return instance;\n\n      instance.fadeTimer = setInterval(() => {\n        instance.fadeNext();\n      }, config.interval);\n\n      return instance;\n    },\n\n    fadeStop: () => {\n      if (instance.fadeTimer) {\n        clearInterval(instance.fadeTimer);\n        instance.fadeTimer = null;\n      }\n      return instance;\n    },\n\n    fadePause: () => {\n      instance.fadeIsPaused = true;\n      return instance;\n    },\n\n    fadeResume: () => {\n      instance.fadeIsPaused = false;\n      return instance;\n    },\n\n    pause: () => {\n      if (config.animationType === 'fade') {\n        instance.fadePause();\n      } else {\n        track.classList.add('its-paused');\n      }\n      instance.isPlaying = false;\n      return instance;\n    },\n\n    play: () => {\n      if (config.animationType === 'fade') {\n        instance.fadeResume();\n      } else {\n        track.classList.remove('its-paused');\n      }\n      instance.isPlaying = true;\n      return instance;\n    },\n\n    toggle: () => {\n      instance.isPlaying ? instance.pause() : instance.play();\n      return instance;\n    },\n\n    reset: () => {\n      if (config.animationType === 'fade') {\n        instance.fadeStop();\n        instance.fadeShowItem(0);\n        if (instance.isPlaying && !instance.isReducedMotion) {\n          instance.fadeStart();\n        }\n      } else {\n        track.classList.add('its-reset');\n        requestAnimationFrame(() => {\n          track.classList.remove('its-reset');\n        });\n      }\n      return instance;\n    },\n\n    setDelay: (delay) => {\n      updateInstanceStyles(config.containerId, {\n        '--its-animation-delay': delay\n      });\n      instance.config.animationDelay = delay;\n      return instance;\n    },\n\n    destroy: () => {\n      // Fade 타이머 정리\n      if (instance.fadeTimer) {\n        clearInterval(instance.fadeTimer);\n        instance.fadeTimer = null;\n      }\n\n      // 애니메이션 정지\n      if (track) {\n        track.classList.add('its-reset');\n      }\n\n      // 이벤트 리스너 제거\n      if (instance._keyboardHandler) {\n        container.removeEventListener('keydown', instance._keyboardHandler);\n      }\n      if (instance._hoverHandler) {\n        container.removeEventListener('mouseenter', instance._hoverHandler);\n        container.removeEventListener('mouseleave', instance._hoverLeaveHandler);\n      }\n      if (instance._focusHandler) {\n        container.removeEventListener('focusin', instance._focusHandler);\n        container.removeEventListener('focusout', instance._focusOutHandler);\n      }\n      if (instance._visibilityHandler) {\n        document.removeEventListener('visibilitychange', instance._visibilityHandler);\n      }\n      if (instance._reducedMotionHandler) {\n        mediaQuery.removeEventListener('change', instance._reducedMotionHandler);\n      }\n\n      // 인스턴스별 스타일 태그 제거\n      removeInstanceStyles(config.containerId);\n\n      // DOM 제거\n      if (wrapper && wrapper.parentNode) {\n        wrapper.remove();\n      }\n\n      // 참조 해제 (메모리 누수 방지)\n      instance.element = null;\n      instance.track = null;\n      instance.container = null;\n\n      // 인스턴스 맵에서 제거\n      instancesMap.delete(config.containerId);\n    },\n\n    getState: () => ({\n      isPlaying: instance.isPlaying,\n      config: { ...instance.config },\n      fadeCurrentIndex: instance.fadeCurrentIndex,\n      isReducedMotion: instance.isReducedMotion\n    })\n  };\n\n  return instance;\n}\n\n/**\n * 이벤트 리스너 설정\n * @param {Object} instance - 인스턴스\n * @param {Object} config - 설정\n * @param {HTMLElement} container - 컨테이너\n * @param {MediaQueryList} mediaQuery - 미디어 쿼리\n */\nexport function setupEventListeners(instance, config, container, mediaQuery) {\n  // 키보드 제어 (Space로 일시정지/재생)\n  if (config.enableKeyboardControl) {\n    instance._keyboardHandler = (e) => {\n      if (e.key === ' ' || e.key === 'Spacebar') {\n        e.preventDefault();\n        instance.toggle();\n      }\n    };\n    container.addEventListener('keydown', instance._keyboardHandler);\n  }\n\n  // 호버 시 일시정지 (WCAG 2.2.2)\n  if (config.pauseOnHover) {\n    instance._hoverHandler = () => instance.pause();\n    instance._hoverLeaveHandler = () => {\n      setTimeout(() => instance.play(), TIMING.HOVER_RESUME_DELAY);\n    };\n    container.addEventListener('mouseenter', instance._hoverHandler);\n    container.addEventListener('mouseleave', instance._hoverLeaveHandler);\n  }\n\n  // 포커스 시 일시정지 (WCAG 2.2.2)\n  if (config.pauseOnFocus) {\n    instance._focusHandler = () => instance.pause();\n    instance._focusOutHandler = (e) => {\n      if (!container.contains(e.relatedTarget)) {\n        setTimeout(() => instance.play(), TIMING.FOCUS_RESUME_DELAY);\n      }\n    };\n    container.addEventListener('focusin', instance._focusHandler);\n    container.addEventListener('focusout', instance._focusOutHandler);\n  }\n\n  // 페이지 visibility 변경 시\n  instance._visibilityHandler = () => {\n    if (document.hidden) {\n      instance.pause();\n    } else if (instance.isPlaying) {\n      setTimeout(() => instance.play(), TIMING.VISIBILITY_RESUME_DELAY);\n    }\n  };\n  document.addEventListener('visibilitychange', instance._visibilityHandler);\n\n  // prefers-reduced-motion 변경 감지\n  instance._reducedMotionHandler = (e) => {\n    instance.isReducedMotion = e.matches;\n    if (e.matches) {\n      if (config.animationType === 'fade') {\n        instance.fadeStop();\n      } else {\n        instance.pause();\n      }\n    } else {\n      if (config.animationType === 'fade') {\n        instance.fadeStart();\n      } else {\n        instance.play();\n      }\n    }\n  };\n  mediaQuery.addEventListener('change', instance._reducedMotionHandler);\n}\n","/**\n * 무한 텍스트 스크롤러\n * @version 1.4.0\n * @author deep\n * @description 무한 스크롤 텍스트 애니메이션을 위한 경량 라이브러리\n * WCAG 2.2.2 (Pause, Stop, Hide) 준수\n * prefers-reduced-motion 지원\n * @license MIT\n */\n\nimport { DEFAULT_CONFIG, PRESETS } from './constants.js';\nimport { validateNumber, createElement, createTrack } from './helpers.js';\nimport { injectStyles, createInstanceStyles } from './styles.js';\nimport { createInstanceMethods, setupEventListeners } from './instance.js';\n\nexport class InfiniteTextScroller {\n  static VERSION = '1.4.0';\n  static instances = new Map();\n\n  static defaultConfig = DEFAULT_CONFIG;\n  static presets = PRESETS;\n\n  /**\n   * 문서 헤드에 스타일 주입\n   */\n  static injectStyles = injectStyles;\n\n  /**\n   * 새로운 텍스트 스크롤러 인스턴스 생성\n   * @param {Object} options - 설정 옵션\n   * @param {string} options.preset - 프리셋 이름 (minimal, news, ticker, banner, alert, announcement, currency, stock)\n   * @returns {Object|null} 제어 메서드가 포함된 스크롤러 인스턴스\n   */\n  static create(options) {\n    // 프리셋 적용\n    let presetConfig = {};\n    if (options.preset && InfiniteTextScroller.presets[options.preset]) {\n      presetConfig = InfiniteTextScroller.presets[options.preset];\n    }\n\n    // 우선순위: defaultConfig < preset < options\n    const config = {\n      ...InfiniteTextScroller.defaultConfig,\n      ...presetConfig,\n      ...options\n    };\n\n    // 필수 옵션 검증\n    if (!config.containerId) {\n      console.error('[TextScroller] containerId는 필수입니다');\n      return null;\n    }\n\n    if (!config.text && !config.html && !config.children) {\n      console.error('[TextScroller] text, html, children 중 하나는 필수입니다');\n      return null;\n    }\n\n    // 숫자 파라미터 검증\n    config.speed = validateNumber(config.speed, 'speed');\n    config.duplicates = validateNumber(config.duplicates, 'duplicates');\n    config.separatorOpacity = validateNumber(config.separatorOpacity, 'separatorOpacity');\n\n    const container = document.getElementById(config.containerId);\n    if (!container) {\n      console.error(`[TextScroller] ID \"${config.containerId}\"를 가진 요소를 찾을 수 없습니다`);\n      return null;\n    }\n\n    // 스타일 주입 (활성화된 경우)\n    if (config.autoInjectStyles) {\n      InfiniteTextScroller.injectStyles();\n    }\n\n    // 컨테이너 클래스 추가\n    if (!container.classList.contains('its-scroller-container')) {\n      container.classList.add('its-scroller-container');\n    }\n\n    // ARIA 속성 설정\n    container.setAttribute('role', config.role);\n    if (config.ariaLabel) {\n      container.setAttribute('aria-label', config.ariaLabel);\n    }\n    if (config.ariaLive !== 'off') {\n      container.setAttribute('aria-live', config.ariaLive);\n    } else {\n      container.setAttribute('aria-live', 'off');\n    }\n\n    // 키보드 제어 활성화\n    if (config.enableKeyboardControl) {\n      container.setAttribute('tabindex', '0');\n    }\n\n    // 테두리 클래스 추가\n    if (config.borderTop) {\n      container.classList.add('its-border-top');\n    }\n    if (config.borderBottom) {\n      container.classList.add('its-border-bottom');\n    }\n\n    // 래퍼 생성\n    const wrapperClasses = [\n      'its-scroller-wrapper',\n      config.animationType === 'fade' ? 'its-fade-type' : `its-${config.direction}`,\n      config.fadeEdges && config.animationType !== 'fade' ? 'its-fade-enabled' : '',\n      config.rtl ? 'its-rtl' : '',\n      config.className\n    ].filter(Boolean).join(' ');\n\n    const wrapper = createElement('div', wrapperClasses);\n\n    // 인스턴스별 스타일 태그 생성\n    createInstanceStyles(config.containerId, {\n      '--its-animation-speed': `${config.speed}s`,\n      '--its-font-size': config.fontSize,\n      '--its-font-weight': config.fontWeight,\n      '--its-font-family': config.fontFamily,\n      '--its-text-color': config.textColor,\n      '--its-bg-color': config.backgroundColor,\n      '--its-fade-width': config.fadeWidth,\n      '--its-border-color': config.borderColor,\n      '--its-border-width': config.borderWidth,\n      '--its-padding': config.padding,\n      '--its-gap': config.gap,\n      '--its-letter-spacing': config.letterSpacing,\n      '--its-animation-timing': config.animationTimingFunction,\n      '--its-animation-delay': config.animationDelay,\n      '--its-separator-opacity': config.separatorOpacity,\n      '--its-separator-color': config.separatorColor !== 'inherit' ? config.separatorColor : config.textColor\n    });\n\n    // 트랙 생성\n    const track = createTrack(\n      config.text,\n      config.separator,\n      config.direction,\n      config.duplicates,\n      config\n    );\n\n    if (config.pauseOnHover) {\n      track.classList.add('its-pause-on-hover');\n    }\n\n    wrapper.appendChild(track);\n    container.appendChild(wrapper);\n\n    // prefers-reduced-motion 감지\n    const mediaQuery = window.matchMedia('(prefers-reduced-motion: reduce)');\n    const isReducedMotion = mediaQuery.matches;\n\n    // 인스턴스 메서드 생성\n    const instance = createInstanceMethods({\n      config,\n      wrapper,\n      track,\n      container,\n      mediaQuery,\n      isReducedMotion,\n      instancesMap: InfiniteTextScroller.instances\n    });\n\n    // 이벤트 리스너 설정\n    setupEventListeners(instance, config, container, mediaQuery);\n\n    // Fade 타입 초기화\n    if (config.animationType === 'fade' && !isReducedMotion) {\n      instance.fadeShowItem(0);\n      instance.fadeStart();\n    }\n\n    // 인스턴스 저장\n    InfiniteTextScroller.instances.set(config.containerId, instance);\n\n    return instance;\n  }\n\n  /**\n   * 컨테이너 ID로 기존 스크롤러 인스턴스 가져오기\n   * @param {string} containerId - 컨테이너 요소 ID\n   * @returns {Object|undefined} 스크롤러 인스턴스\n   */\n  static getInstance(containerId) {\n    return InfiniteTextScroller.instances.get(containerId);\n  }\n\n  /**\n   * 모든 스크롤러 인스턴스 제거\n   */\n  static destroyAll() {\n    for (const instance of InfiniteTextScroller.instances.values()) {\n      instance.destroy();\n    }\n  }\n\n  /**\n   * 모든 활성 인스턴스 가져오기\n   * @returns {Array} 스크롤러 인스턴스 배열\n   */\n  static getAllInstances() {\n    return Array.from(InfiniteTextScroller.instances.values());\n  }\n\n  /**\n   * 모든 인스턴스 일시 정지\n   */\n  static pauseAll() {\n    for (const instance of InfiniteTextScroller.instances.values()) {\n      instance.pause();\n    }\n  }\n\n  /**\n   * 모든 인스턴스 재생\n   */\n  static playAll() {\n    for (const instance of InfiniteTextScroller.instances.values()) {\n      instance.play();\n    }\n  }\n}\n\nexport default InfiniteTextScroller;\n\nexport const createScroller = InfiniteTextScroller.create.bind(InfiniteTextScroller);\nexport const getScroller = InfiniteTextScroller.getInstance.bind(InfiniteTextScroller);\nexport const destroyAllScrollers = InfiniteTextScroller.destroyAll.bind(InfiniteTextScroller);\nexport const pauseAllScrollers = InfiniteTextScroller.pauseAll.bind(InfiniteTextScroller);\nexport const playAllScrollers = InfiniteTextScroller.playAll.bind(InfiniteTextScroller);\n"],"names":["TIMING","HOVER_RESUME_DELAY","FOCUS_RESUME_DELAY","VISIBILITY_RESUME_DELAY","DEFAULT_CONFIG","text","html","children","direction","animationType","speed","interval","fontSize","fontWeight","fontFamily","textColor","backgroundColor","separator","separatorColor","separatorOpacity","duplicates","pauseOnHover","pauseOnFocus","autoInjectStyles","className","fadeEdges","fadeWidth","borderTop","borderBottom","borderColor","borderWidth","padding","gap","letterSpacing","animationTimingFunction","animationDelay","rtl","ariaLabel","ariaLive","role","enableKeyboardControl","reducedMotionFallback","PRESETS","minimal","news","ticker","banner","alert","announcement","currency","stock","VALIDATION_RANGES","min","max","default","ALLOWED_HTML","tags","Set","attributes","sanitizeHTML","temp","document","createElement","innerHTML","walker","createTreeWalker","NodeFilter","SHOW_ELEMENT","nodesToRemove","node","nextNode","tagName","toLowerCase","has","push","attrs","Array","from","attr","name","removeAttribute","createTextNode","textContent","parentNode","replaceChild","validateNumber","value","paramName","range","console","warn","concat","defaultValue","isNaN","tag","arguments","length","undefined","el","createScrollerItem","config","item","textSpan","appendChild","separatorSpan","createTrack","track","totalItems","fragment","createDocumentFragment","i","styleCache","Map","injectStyles","getElementById","style","id","head","createInstanceStyles","containerId","styles","styleId","styleTag","cachedStyles","key","Object","entries","set","updateStyleTag","updateInstanceStyles","get","cssVars","map","_ref","join","removeInstanceStyles","remove","delete","createInstanceMethods","wrapper","container","mediaQuery","isReducedMotion","instancesMap","fadeTimer","fadeCurrentIndex","fadeIsPaused","isPlaying","instance","element","_objectSpread","updateText","newText","error","items","querySelectorAll","updateHtml","newHtml","sanitized","updateSpeed","newSpeed","validSpeed","updateDirection","newDirection","includes","classList","add","updateColors","updates","keys","updateChildren","newChildren","updateConfig","newConfig","assign","styleMap","cssValue","toggle","fadeShowItem","index","fadeNext","prevIndex","nextIndex","fadeStart","setInterval","fadeStop","clearInterval","fadePause","fadeResume","pause","play","reset","requestAnimationFrame","setDelay","delay","destroy","_keyboardHandler","removeEventListener","_hoverHandler","_hoverLeaveHandler","_focusHandler","_focusOutHandler","_visibilityHandler","_reducedMotionHandler","getState","setupEventListeners","e","preventDefault","addEventListener","setTimeout","contains","relatedTarget","hidden","matches","InfiniteTextScroller","create","options","presetConfig","preset","presets","defaultConfig","setAttribute","wrapperClasses","filter","Boolean","window","matchMedia","instances","getInstance","destroyAll","values","getAllInstances","pauseAll","playAll","_defineProperty","createScroller","bind","getScroller","destroyAllScrollers","pauseAllScrollers","playAllScrollers"],"mappings":"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"}